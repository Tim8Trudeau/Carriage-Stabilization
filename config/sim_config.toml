# ============================================================
# Carriage Stabilization â€” Physics Simulation Configuration
# For: carriage_simulator.py (inertia-based model)
# ============================================================

# ============================================================
# Simulation initial conditions
# ============================================================
[initial_conditions]
THETA_INITIAL_RAD   = 0.05     # rad
OMEGA_INITIAL_RAD_S = 0.0      # rad/s
START_TIME_S        = 0.0

# ============================================================
# Mechanical plant parameters (match PlantParams dataclass)
# ============================================================
[plant]
I = 0.055             # kg*m^2  moment of inertia
m = 1.80              # kg      effective mass
r = 0.12              # m       COM radius
b = 0.004             # N*m*s   viscous damping
g = 9.80665           # m/s^2

# ============================================================
# Motor model (match MotorParams dataclass)
# ============================================================
[motor]
# Electrical model
R          = 156.0       # Ohms (derived from no-load data)
Kt         = 0.16        # N*m/A (estimated from torque + current)
Kv         = 0.16        # V/(rad/s)

# Voltage supply
V_max      = 24.0        # Rated voltage

# Current limits
I_max      = 1.0         # A (estimated stall current)

# Torque saturation
tau_max    = 0.16        # N*m (estimated stall torque)

# Gearbox
gear_ratio = 8.7         # motor:joint ratio
eta        = 0.85        # est. gearbox efficiency

# ============================================================
# Simulation numeric parameters (match SimConfig dataclass)
# ============================================================
[simulation]
dt            = 0.002
steps_per_log = 10
tau_ext       = 0.0
DURATION_S    = 10.0

# ============================================================
# Controller selection
# ============================================================
[controller]
type = "PD"                  # "PD", "FLC", "NONE"

# PD controller params
Kp = -2.0
Kd = -0.4

# Path to fuzzy logic controller file
FLC_CONFIG_PATH = "config/flc_config.toml"

# ============================================================
# Logging controls (optional)
# ============================================================
[logging]
LEVEL = "INFO"
WRITE_CSV = false
